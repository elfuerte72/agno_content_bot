# üìã –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è Agno Content Bot –¥–ª—è OptimaAI

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ Telegram –±–æ—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –∫–∞–Ω–∞–ª OptimaAI —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Agno Framework.

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å—Ç–æ–≤  
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram API
- ‚úÖ FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞–º–∏

## üöÄ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –∑–∞–¥–∞—á–∏

### üìã **–ó–ê–î–ê–ß–ê 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
```
–§–∞–π–ª—ã: @content_formatter.py, @optimai_data/
–¶–µ–ª—å: –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è OptimaAI
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –£–±—Ä–∞—Ç—å –≤—Å–µ markdown —Å–∏–º–≤–æ–ª—ã (`**`, `*`, `#`, `_`, ``` )
- –ò—Å–∫–ª—é—á–∏—Ç—å —Ö—ç—à—Ç–µ–≥–∏ –∏–∑ –ø–æ—Å—Ç–æ–≤
- –£–±—Ä–∞—Ç—å –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- –î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π SMM-—Å—Ç–∏–ª—å
- –û–±—ä—è—Å–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

**–ù–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
```python
instructions = [
    "–°–æ–∑–¥–∞–≤–∞–π –ø–æ—Å—Ç—ã –≤ –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–º SMM-—Å—Ç–∏–ª–µ –¥–ª—è Telegram –∫–∞–Ω–∞–ª–∞ OptimaAI",
    "–û–±—ä—è—Å–Ω—è–π —Å–ª–æ–∂–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏", 
    "–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π markdown —Å–∏–º–≤–æ–ª—ã: **, *, #, _, ```",
    "–ù–ï –¥–æ–±–∞–≤–ª—è–π —Ö—ç—à—Ç–µ–≥–∏ –≤ –∫–æ–Ω—Ü–µ –ø–æ—Å—Ç–∞",
    "–ù–ï –≤–∫–ª—é—á–∞–π –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏",
    "–ü–∏—à–∏ –∫–∞–∫ –æ–ø—ã—Ç–Ω—ã–π SMM-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –≤ —Å—Ñ–µ—Ä–µ –ò–ò",
    "–î–µ–ª–∞–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ–Ω—è—Ç–Ω—ã–º –¥–ª—è —à–∏—Ä–æ–∫–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏",
    "–§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–ª—å–∑–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –ò–ò",
    "–£–ø–æ–º–∏–Ω–∞–π OptimaAI –∫–∞–∫ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –≤ –æ–±–ª–∞—Å—Ç–∏ –æ–±—É—á–µ–Ω–∏—è –ò–ò, –∫–æ–≥–¥–∞ —ç—Ç–æ —É–º–µ—Å—Ç–Ω–æ"
]
```

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
> –û–±–Ω–æ–≤–∏ —Ñ–∞–π–ª `content_formatter.py` —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–æ–≤—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Å—Ç–∏–ª—è OptimaAI. –ò—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–∞–ø–∫–∏ `optimai_data/` –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ç–æ–Ω–∞ –∏ —Å—Ç–∏–ª—è –∫–æ–º–ø–∞–Ω–∏–∏. –°–æ–∑–¥–∞–π —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `content_formatter.py`.

---

### üìã **–ó–ê–î–ê–ß–ê 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
```
–¶–µ–ª—å: –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫ –ø–æ—Å—Ç–∞–º —Å –ø–æ–º–æ—â—å—é DALL-E
–ù–æ–≤—ã–π —Ñ–∞–π–ª: image_generator.py
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI DALL-E API
- –ê–≥–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –í–æ–∑–≤—Ä–∞—Ç URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ö–æ–¥ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```python
from agno.agent import Agent
from agno.models.openai import OpenAIChat
import openai
import os
from typing import Optional

class PostImageGenerator:
    def __init__(self, api_key: str):
        self.client = openai.OpenAI(api_key=api_key)
        self.agent = Agent(
            model=OpenAIChat(id="gpt-4o-mini"),
            instructions=[
                "–°–æ–∑–¥–∞–≤–∞–π –∫—Ä–∞—Ç–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫ –Ω–æ–≤–æ—Å—Ç–Ω—ã–º –ø–æ—Å—Ç–∞–º –æ–± –ò–ò",
                "–°—Ç–∏–ª—å: —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–π, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π",
                "–ò–∑–±–µ–≥–∞–π —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö",
                "–§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –º–µ—Ç–∞—Ñ–æ—Ä–µ —Ç–µ–º—ã",
                "–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ –¥–ª—è DALL-E",
                "–ú–∞–∫—Å–∏–º—É–º 100 —Å–ª–æ–≤ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏"
            ]
        )
    
    async def generate_image_prompt(self, post_content: str) -> str:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ—Å—Ç–∞"""
        response = self.agent.run(
            f"–°–æ–∑–¥–∞–π –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ—Å—Ç–∞: {post_content}"
        )
        return response.content
    
    async def generate_image(self, post_content: str) -> Optional[str]:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ—Å—Ç–∞"""
        try:
            image_prompt = await self.generate_image_prompt(post_content)
            
            response = self.client.images.generate(
                model="dall-e-3",
                prompt=image_prompt,
                size="1024x1024",
                quality="standard",
                n=1
            )
            
            return response.data[0].url
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: {e}")
            return None
```

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
> –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Ñ–∞–π–ª `image_generator.py` —Å –∫–ª–∞—Å—Å–æ–º PostImageGenerator –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫ –ø–æ—Å—Ç–∞–º. –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –∫–∞–∫ –æ—Å–Ω–æ–≤—É, –¥–æ–±–∞–≤—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.

---

### üìã **–ó–ê–î–ê–ß–ê 3: –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π OptimaAI** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
```
–§–∞–π–ª—ã: @optimai_data/ (–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏)
–¶–µ–ª—å: –°–æ–∑–¥–∞—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–æ–º–ø–∞–Ω–∏–∏
–ù–æ–≤—ã–π —Ñ–∞–π–ª: optimai_knowledge.py
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö LanceDB
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–∞–ø–∫–∏ optimai_data/
- –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–µ–Ω–¥–æ–≤ –ò–ò –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞

**–ö–æ–¥ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```python
from agno.knowledge.text import TextKnowledgeBase
from agno.vectordb.lancedb import LanceDb, SearchType
from agno.embedder.openai import OpenAIEmbedder
import os

class OptimaAIKnowledge:
    def __init__(self):
        self.vector_db = LanceDb(
            uri="data/optimai_knowledge",
            table_name="company_knowledge", 
            search_type=SearchType.hybrid,
            embedder=OpenAIEmbedder(id="text-embedding-3-small")
        )
        
        # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏ –∏–∑ –ø–∞–ø–∫–∏ optimai_data
        self.company_knowledge = TextKnowledgeBase(
            path="optimai_data/",
            vector_db=self.vector_db
        )
        
        # –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–µ–Ω–¥–æ–≤ –ò–ò (—Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—ã–Ω–æ–∫)
        self.trends_sources = [
            "https://vc.ru/tag/–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π-–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç",
            "https://habr.com/ru/hub/artificial_intelligence/",
            "https://www.cnews.ru/news/line/tag/ii"
        ]
    
    async def load_knowledge(self):
        """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –±–∞–∑—É –∑–Ω–∞–Ω–∏–π"""
        await self.company_knowledge.aload(recreate=False)
    
    def search_company_info(self, query: str) -> str:
        """–ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏–∏"""
        return self.company_knowledge.search(query)
```

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
> –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Ñ–∞–π–ª `optimai_knowledge.py` —Å –∫–ª–∞—Å—Å–æ–º OptimaAIKnowledge –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–∞–ø–∫–∏ `optimai_data/` –∏ —Å–æ–∑–¥–∞–π –ø–∞–ø–∫—É `data/` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã.

---

### üìã **–ó–ê–î–ê–ß–ê 4: –ö–æ–º–∞–Ω–¥–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
```
–¶–µ–ª—å: –°–æ–∑–¥–∞—Ç—å –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
–ù–æ–≤—ã–π —Ñ–∞–π–ª: research_team.py
–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: Agno Teams, Exa, Tavily, ReasoningTools
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ê–≥–µ–Ω—Ç –ø–æ–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π (Exa, Tavily)
- –ê–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤ (ReasoningTools)
- –ê–≥–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–∫—Ç–æ–≤
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∫–æ–º–∞–Ω–¥—ã

**–ö–æ–¥ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```python
from agno.agent import Agent
from agno.team import Team
from agno.models.openai import OpenAIChat
from agno.tools.exa import ExaTools
from agno.tools.tavily import TavilyTools
from agno.tools.reasoning import ReasoningTools

class ResearchTeam:
    def __init__(self):
        # –ê–≥–µ–Ω—Ç –ø–æ–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
        self.news_searcher = Agent(
            name="News Searcher",
            role="–ü–æ–∏—Å–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –≤ —Å—Ñ–µ—Ä–µ –ò–ò",
            model=OpenAIChat(id="gpt-4o-mini"),
            tools=[ExaTools(), TavilyTools()],
            instructions=[
                "–ò—â–∏ —Å–∞–º—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –≤ —Å—Ñ–µ—Ä–µ –ò–ò",
                "–§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Ä—ã–Ω–∫–µ –ò–ò",
                "–û–±—Ä–∞—â–∞–π –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–æ–≤–æ—Å—Ç–∏ –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö, –æ–±—É—á–µ–Ω–∏–∏ –ò–ò, –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö",
                "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: OpenAI, Google AI, —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –ò–ò-–∫–æ–º–ø–∞–Ω–∏–∏"
            ]
        )
        
        # –ê–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤
        self.trend_analyzer = Agent(
            name="Trend Analyzer", 
            role="–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤ –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ —Ç–µ–º",
            model=OpenAIChat(id="gpt-4o-mini"),
            tools=[ReasoningTools(add_instructions=True)],
            instructions=[
                "–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ–º –≤ —Å—Ñ–µ—Ä–µ –ò–ò",
                "–û–ø—Ä–µ–¥–µ–ª—è–π, –∫–∞–∫–∏–µ —Ç–µ–º—ã –±—É–¥—É—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã –∞—É–¥–∏—Ç–æ—Ä–∏–∏ OptimaAI",
                "–£—á–∏—Ç—ã–≤–∞–π —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –æ–±—É—á–µ–Ω–∏—è –ò–ò –∏ –ø—Ä–æ–º–ø—Ç–∏–Ω–≥–∞",
                "–û—Ü–µ–Ω–∏–≤–∞–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ç–µ–º—ã –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"
            ]
        )
        
        # –ê–≥–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–∫—Ç–æ–≤
        self.fact_checker = Agent(
            name="Fact Checker",
            role="–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏",
            model=OpenAIChat(id="gpt-4o-mini"), 
            tools=[ReasoningTools(add_instructions=True), TavilyTools()],
            instructions=[
                "–ü—Ä–æ–≤–µ—Ä—è–π –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å —Ñ–∞–∫—Ç–æ–≤ –≤ –Ω–æ–≤–æ—Å—Ç—è—Ö",
                "–ò—â–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤",
                "–û—Ç–º–µ—á–∞–π –Ω–µ–¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—É—é –∏–ª–∏ —Å–ø–æ—Ä–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é",
                "–û—Ü–µ–Ω–∏–≤–∞–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤"
            ]
        )
        
        # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∫–æ–º–∞–Ω–¥—ã
        self.team = Team(
            name="Research Team",
            mode="coordinate",
            members=[self.news_searcher, self.trend_analyzer, self.fact_checker],
            model=OpenAIChat(id="gpt-4o-mini"),
            instructions=[
                "–ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–π —Ä–∞–±–æ—Ç—É –∫–æ–º–∞–Ω–¥—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π",
                "–°–∏–Ω—Ç–µ–∑–∏—Ä—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤",
                "–°–æ–∑–¥–∞–≤–∞–π –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç —Å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ —Ñ–∞–∫—Ç–∞–º–∏",
                "–û—Ü–µ–Ω–∏–≤–∞–π –∫–∞—á–µ—Å—Ç–≤–æ –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"
            ]
        )
    
    async def research_topic(self, topic: str) -> str:
        """–ò—Å—Å–ª–µ–¥—É–µ—Ç —Ç–µ–º—É —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã –∞–≥–µ–Ω—Ç–æ–≤"""
        return self.team.run(f"–ò—Å—Å–ª–µ–¥—É–π —Ç–µ–º—É: {topic}")
```

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
> –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Ñ–∞–π–ª `research_team.py` —Å –∫–ª–∞—Å—Å–æ–º ResearchTeam, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º –∫–æ–º–∞–Ω–¥—É –∏–∑ —Ç—Ä–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã.

---

### üìã **–ó–ê–î–ê–ß–ê 5: –†–µ–¥–∞–∫—Ç–æ—Ä—Å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
```
–§–∞–π–ª—ã: –†–µ–∑—É–ª—å—Ç–∞—Ç –ó–ê–î–ê–ß–ò 3 (optimai_knowledge.py)
–¶–µ–ª—å: –°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
–ù–æ–≤—ã–π —Ñ–∞–π–ª: editorial_team.py
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ê–≥–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π OptimaAI)
- –ê–≥–µ–Ω—Ç —Å—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–≥–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∫–æ–º–∞–Ω–¥—ã

**–ö–æ–¥ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```python
from agno.agent import Agent
from agno.team import Team
from agno.models.openai import OpenAIChat
from agno.tools.reasoning import ReasoningTools

class EditorialTeam:
    def __init__(self, optimai_knowledge):
        self.knowledge = optimai_knowledge
        
        # –ê–≥–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        self.content_creator = Agent(
            name="Content Creator",
            role="–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ –¥–ª—è Telegram –∫–∞–Ω–∞–ª–∞",
            model=OpenAIChat(id="gpt-4o-mini"),
            knowledge=self.knowledge.company_knowledge,
            instructions=[
                "–°–æ–∑–¥–∞–≤–∞–π –ø–æ—Å—Ç—ã –≤ —Å—Ç–∏–ª–µ OptimaAI - –¥—Ä—É–∂–µ–ª—é–±–Ω–æ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ",
                "–û–±—ä—è—Å–Ω—è–π —Å–ª–æ–∂–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏",
                "–§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–ª—å–∑–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –ò–ò",
                "–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π markdown —Å–∏–º–≤–æ–ª—ã –∏ —Ö—ç—à—Ç–µ–≥–∏",
                "–î–ª–∏–Ω–∞ –ø–æ—Å—Ç–∞: 200-400 —Å–ª–æ–≤",
                "–°—Ç–∏–ª—å: –∫–∞–∫ –æ–ø—ã—Ç–Ω—ã–π SMM-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç"
            ]
        )
        
        # –ê–≥–µ–Ω—Ç —Å—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        self.style_editor = Agent(
            name="Style Editor",
            role="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª—è –∏ —Ç–æ–Ω–∞",
            model=OpenAIChat(id="gpt-4o-mini"),
            tools=[ReasoningTools(add_instructions=True)],
            instructions=[
                "–ü—Ä–æ–≤–µ—Ä—è–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∏–ª—è OptimaAI",
                "–£–±–µ–∂–¥–∞–π—Å—è, —á—Ç–æ —Ç–æ–Ω –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–π",
                "–ü—Ä–æ–≤–µ—Ä—è–π, —á—Ç–æ —Å–ª–æ–∂–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã –æ–±—ä—è—Å–Ω–µ–Ω—ã",
                "–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –¥–ª—è Telegram –∞—É–¥–∏—Ç–æ—Ä–∏–∏"
            ]
        )
        
        # –ê–≥–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
        self.quality_checker = Agent(
            name="Quality Checker", 
            role="–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º",
            model=OpenAIChat(id="gpt-4o-mini"),
            tools=[ReasoningTools(add_instructions=True)],
            instructions=[
                "–ü—Ä–æ–≤–µ—Ä—è–π –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ markdown —Å–∏–º–≤–æ–ª–æ–≤",
                "–£–±–µ–∂–¥–∞–π—Å—è, —á—Ç–æ –Ω–µ—Ç —Ö—ç—à—Ç–µ–≥–æ–≤ –∏ –ø—Ä—è–º—ã—Ö —Å—Å—ã–ª–æ–∫",
                "–ü—Ä–æ–≤–µ—Ä—è–π –¥–ª–∏–Ω—É –ø–æ—Å—Ç–∞ (200-400 —Å–ª–æ–≤)",
                "–û—Ü–µ–Ω–∏–≤–∞–π –∫–∞—á–µ—Å—Ç–≤–æ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å",
                "–ü—Ä–æ–≤–µ—Ä—è–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –±—Ä–µ–Ω–¥—É OptimaAI"
            ]
        )
        
        # –ì–ª–∞–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä)
        self.team = Team(
            name="Editorial Team",
            mode="coordinate", 
            members=[self.content_creator, self.style_editor, self.quality_checker],
            model=OpenAIChat(id="gpt-4o-mini"),
            instructions=[
                "–ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–π —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞",
                "–û–±–µ—Å–ø–µ—á–∏–≤–∞–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º",
                "–°–æ–∑–¥–∞–≤–∞–π —Ñ–∏–Ω–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –ø–æ—Å—Ç–∞",
                "–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–π –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"
            ]
        )
    
    async def create_post(self, research_data: str, topic: str) -> str:
        """–°–æ–∑–¥–∞–µ—Ç –ø–æ—Å—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö"""
        prompt = f"""
        –°–æ–∑–¥–∞–π –ø–æ—Å—Ç –¥–ª—è Telegram –∫–∞–Ω–∞–ª–∞ OptimaAI –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö:
        
        –¢–µ–º–∞: {topic}
        –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ: {research_data}
        
        –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
        - –°—Ç–∏–ª—å OptimaAI (–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π)
        - –ë–µ–∑ markdown —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Ö—ç—à—Ç–µ–≥–æ–≤
        - 200-400 —Å–ª–æ–≤
        - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
        """
        
        return self.team.run(prompt)
```

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
> –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Ñ–∞–π–ª `editorial_team.py` —Å –∫–ª–∞—Å—Å–æ–º EditorialTeam. –≠—Ç–æ—Ç –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–±—ä–µ–∫—Ç optimai_knowledge –∏–∑ –ó–ê–î–ê–ß–ò 3 –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

---

### üìã **–ó–ê–î–ê–ß–ê 6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
```
–§–∞–π–ª—ã: @telegram_bot.py + –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–¥–∞—á
–¶–µ–ª—å: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏
- –û–±–Ω–æ–≤–∏—Ç—å –∫–ª–∞—Å—Å TelegramNewsBot
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ generate_news_post
- –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /news –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –î–æ–±–∞–≤–∏—Ç—å –ø–∞–º—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ telegram_bot.py:**

1. **–î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã:**
```python
from research_team import ResearchTeam
from editorial_team import EditorialTeam
from optimai_knowledge import OptimaAIKnowledge
from image_generator import PostImageGenerator
from agno.memory.v2.db.sqlite import SqliteMemoryDb
from agno.memory.v2.memory import Memory
from agno.models.openai import OpenAIChat
```

2. **–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é TelegramNewsBot:**
```python
class TelegramNewsBot:
    def __init__(self):
        # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥...
        
        # –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
        self.knowledge = OptimaAIKnowledge()
        self.research_team = ResearchTeam()
        self.editorial_team = EditorialTeam(self.knowledge)
        self.image_generator = PostImageGenerator(os.getenv('OPENAI_API_KEY'))
        
        # –ü–∞–º—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        self.admin_memory = Memory(
            model=OpenAIChat(id="gpt-4o-mini"),
            db=SqliteMemoryDb(table_name="admin_memory", db_file="data/admin.db"),
            user_id="admin"
        )
```

3. **–û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ generate_news_post:**
```python
async def generate_news_post(self, topic: str = "latest AI news"):
    """–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞ —Å –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π"""
    try:
        # –®–∞–≥ 1: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ç–µ–º—ã
        research_data = await self.research_team.research_topic(topic)
        
        # –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
        post_content = await self.editorial_team.create_post(research_data, topic)
        
        # –®–∞–≥ 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        image_url = await self.image_generator.generate_image(post_content)
        
        return {
            'content': post_content,
            'image_url': image_url,
            'topic': topic
        }
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞: {e}")
        return None
```

4. **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /news –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏:**
```python
# –í —Ñ—É–Ω–∫—Ü–∏–∏ news_command –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
if post_data.get('image_url'):
    await status_msg.delete()
    await message.answer_photo(
        photo=post_data['image_url'],
        caption=preview_text,
        reply_markup=keyboard
    )
else:
    await status_msg.edit_text(preview_text, reply_markup=keyboard)
```

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
> –û–±–Ω–æ–≤–∏ —Ñ–∞–π–ª `telegram_bot.py`, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–≤ –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏. –î–æ–±–∞–≤—å –∏–º–ø–æ—Ä—Ç—ã, –æ–±–Ω–æ–≤–∏ –∫–ª–∞—Å—Å TelegramNewsBot, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ /news —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏.

---

### üìã **–ó–ê–î–ê–ß–ê 7: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
```
–§–∞–π–ª—ã: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π telegram_bot.py –∏–∑ –ó–ê–î–ê–ß–ò 6
–¶–µ–ª—å: –î–æ–±–∞–≤–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–ù–æ–≤—ã–π —Ñ–∞–π–ª: content_deduplication.py
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–ö–æ–¥ –¥–ª—è content_deduplication.py:**
```python
from agno.storage.sqlite import SqliteStorage
import hashlib
from datetime import datetime, timedelta
from typing import List, Dict

class ContentDeduplicator:
    def __init__(self):
        self.storage = SqliteStorage(
            table_name="published_content",
            db_file="data/content_history.db"
        )
    
    def generate_content_hash(self, content: str) -> str:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ö—ç—à –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è"""
        return hashlib.md5(content.encode()).hexdigest()
    
    def is_duplicate(self, content: str, similarity_threshold: float = 0.8) -> bool:
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–º"""
        content_hash = self.generate_content_hash(content)
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
        recent_posts = self.get_recent_posts(days=30)
        for post in recent_posts:
            if post.get('content_hash') == content_hash:
                return True
        
        return False
    
    def save_published_content(self, content: str, topic: str):
        """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç"""
        content_hash = self.generate_content_hash(content)
        
        data = {
            'content_hash': content_hash,
            'content_preview': content[:200],
            'topic': topic,
            'published_at': datetime.now().isoformat()
        }
        
        self.storage.create(data)
    
    def get_recent_posts(self, days: int = 30) -> List[Dict]:
        """–ü–æ–ª—É—á–∞–µ—Ç –Ω–µ–¥–∞–≤–Ω–∏–µ –ø–æ—Å—Ç—ã"""
        cutoff_date = datetime.now() - timedelta(days=days)
        # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç API storage
        return []
```

**–î–æ–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è telegram_bot.py:**
```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–º–ø–æ—Ä—Ç—ã
from content_deduplication import ContentDeduplicator

# –î–æ–±–∞–≤–∏—Ç—å –≤ __init__ TelegramNewsBot
self.deduplicator = ContentDeduplicator()

# –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–∞–º—è—Ç–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
async def save_admin_preference(self, preference_type: str, value: str):
    """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"""
    await self.admin_memory.add(
        f"–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ {preference_type}: {value}",
        user_id="admin"
    )

async def get_admin_context(self) -> str:
    """–ü–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"""
    memories = await self.admin_memory.search("–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è —Å—Ç–∏–ª—å", limit=5)
    return "\n".join([m.memory for m in memories])

# –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ generate_news_post
if self.deduplicator.is_duplicate(post_content):
    logger.info("–û–±–Ω–∞—Ä—É–∂–µ–Ω –¥—É–±–ª–∏–∫–∞—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –≥–µ–Ω–µ—Ä–∏—Ä—É—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç")
    return await self.generate_news_post(f"{topic} –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥")

# –†–∞—Å—à–∏—Ä–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logger.info(f"Research completed for topic: {topic}")
logger.info(f"Content created, length: {len(post_content)}")
logger.info(f"Image generated: {bool(image_url)}")
```

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞:**
> –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `content_deduplication.py` –∏ –¥–æ–±–∞–≤—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –≤ `telegram_bot.py`. –¢–∞–∫–∂–µ –¥–æ–±–∞–≤—å –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

## üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–û–±–Ω–æ–≤–∏—Ç—å `requirements.txt`:**
```
agno[openai,anthropic,groq,duckduckgo-search,tavily,exa]
lancedb
pillow
aiogram
python-dotenv
```

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û–±–Ω–æ–≤–∏—Ç—å `.env`:**
```env
# –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
OPENAI_API_KEY=your_openai_api_key
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHANNEL_ID=@optimaai_tg

# –ù–æ–≤—ã–µ
TAVILY_API_KEY=your_tavily_api_key
EXA_API_KEY=your_exa_api_key
AGNO_DEBUG=true
```

## üìÅ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
agno_content_bot/
‚îú‚îÄ‚îÄ data/                          # –ù–æ–≤–∞—è –ø–∞–ø–∫–∞ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ optimai_knowledge/         # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î –∑–Ω–∞–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ content_history.db         # –ò—Å—Ç–æ—Ä–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ admin.db                   # –ü–∞–º—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ optimai_data/                  # –î–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏ (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
‚îú‚îÄ‚îÄ telegram_bot.py               # –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç (–ó–ê–î–ê–ß–ê 6)
‚îú‚îÄ‚îÄ research_team.py              # –ó–ê–î–ê–ß–ê 4
‚îú‚îÄ‚îÄ editorial_team.py             # –ó–ê–î–ê–ß–ê 5
‚îú‚îÄ‚îÄ optimai_knowledge.py          # –ó–ê–î–ê–ß–ê 3
‚îú‚îÄ‚îÄ content_deduplication.py      # –ó–ê–î–ê–ß–ê 7
‚îú‚îÄ‚îÄ image_generator.py            # –ó–ê–î–ê–ß–ê 2
‚îú‚îÄ‚îÄ content_formatter.py          # –ó–ê–î–ê–ß–ê 1
‚îú‚îÄ‚îÄ post_editor.py                # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π (–º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å)
‚îú‚îÄ‚îÄ requirements.txt              # –û–±–Ω–æ–≤–∏—Ç—å
‚îî‚îÄ‚îÄ .env                          # –û–±–Ω–æ–≤–∏—Ç—å
```

## üéØ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á

1. **–ó–ê–î–ê–ß–ê 1** ‚Üí **–ó–ê–î–ê–ß–ê 2** ‚Üí **–ó–ê–î–ê–ß–ê 3** (–º–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
2. **–ó–ê–î–ê–ß–ê 4** ‚Üí **–ó–ê–î–ê–ß–ê 5** (–ø–æ—Å–ª–µ –ó–ê–î–ê–ß–ò 3)
3. **–ó–ê–î–ê–ß–ê 6** (–ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö)
4. **–ó–ê–î–ê–ß–ê 7** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üìû –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏

–ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –∞–≥–µ–Ω—Ç—É —Ç–æ–ª—å–∫–æ:
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –ù–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ß–µ—Ç–∫–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: "–°–æ–∑–¥–∞–π/–æ–±–Ω–æ–≤–∏ —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç"

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ó–ê–î–ê–ß–ò 1:**
```
@PLANNING.md (–ó–ê–î–ê–ß–ê 1)
@content_formatter.py
@optimai_data/

–í—ã–ø–æ–ª–Ω–∏ –ó–ê–î–ê–ß–£ 1: –æ–±–Ω–æ–≤–∏ content_formatter.py –ø–æ–¥ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è OptimaAI
``` 